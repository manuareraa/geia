"use strict";(self.webpackChunkgeoblocs=self.webpackChunkgeoblocs||[]).push([[8031],{98031:function(n,t,e){e.r(t),e.d(t,{SignerConnector:function(){return v}});var r=e(74165),i=e(15861),s=e(15671),a=e(43144),c=e(97326),u=e(60136),o=e(29388),h=e(2600),p=e(91609),f=e(20684),d=e(68365),v=(e(65892),function(n){(0,u.Z)(e,n);var t=(0,o.Z)(e);function e(n){var r;return(0,s.Z)(this,e),r=t.call(this),(0,h._)((0,c.Z)(r),"onChainChanged",(function(n){var t=(0,p.n)(n),e=!r.options.chains.find((function(n){return n.chainId===t}));r.emit("change",{chain:{id:t,unsupported:e}})})),r.options=n,r}return(0,a.Z)(e,[{key:"connect",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){var e,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.chainId&&this.switchChain(t.chainId),n.next=3,this.getSigner();case 3:return e=n.sent,n.next=6,e.getAddress();case 6:return i=n.sent,n.abrupt("return",i);case 8:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"disconnect",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._provider=void 0,this._signer=void 0;case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"getAddress",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getSigner();case 2:if(t=n.sent){n.next=5;break}throw new Error("No signer found");case 5:return n.next=7,t.getAddress();case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"isConnected",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getAddress();case 3:return t=n.sent,n.abrupt("return",!!t);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})));return function(){return n.apply(this,arguments)}}()},{key:"getProvider",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._provider||(this._provider=(0,d.a_)(this.options.chain,{clientId:this.options.clientId,secretKey:this.options.secretKey})),n.abrupt("return",this._provider);case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"getSigner",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._signer){n.next=5;break}return n.next=3,this.getProvider();case 3:t=n.sent,this._signer=l(this.options.signer,t);case 5:return n.abrupt("return",this._signer);case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"switchChain",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.options.chains.find((function(n){return n.chainId===t}))){n.next=3;break}throw new Error("Chain not found for chainId ".concat(t,", please add it to the chains property when creating this wallet"));case 3:this._provider=(0,d.a_)(e,{clientId:this.options.clientId,secretKey:this.options.secretKey}),this._signer=l(this.options.signer,this._provider),this.onChainChanged(t);case 6:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"setupListeners",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"updateChains",value:function(n){this.options.chains=n}}]),e}(f.C));function l(n,t){return t?n.connect(t):n}}}]);
//# sourceMappingURL=8031.42c6e562.chunk.js.map
"use strict";(self.webpackChunkgeoblocs=self.webpackChunkgeoblocs||[]).push([[417],{40541:function(e,t,r){r.d(t,{C:function(){return p}});var n=r(74165),a=r(15861),s=r(15671),i=r(43144),c=r(4942),o=r(12644),u=r(18392),p=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,c.Z)(this,"featureName",u.d4.name),(0,c.Z)(this,"setRecipient",(0,o.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"setPrimarySaleRecipient",args:[t]}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.contractWrapper=t}return(0,i.Z)(e,[{key:"getRecipient",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contractWrapper.read("primarySaleRecipient",[]);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},50417:function(e,t,r){r.r(t),r.d(t,{SmartContract:function(){return G}});var n=r(74165),a=r(15861),s=r(15671),i=r(43144),c=r(61146),o=r(17953),u=r(18392),p=r(37762),d=r(93433),f=r(4942),h=r(12644),m=r(2257),l=r(97419),v=r(6222),g=r(83374),x=r(51583),Z=r(17303),y=r(44554),k=r(85938),w=r(60874),b=r(90813),A=function(e){return e[e.None=0]="None",e[e.AddAdmin=1]="AddAdmin",e[e.RemoveAdmin=2]="RemoveAdmin",e}({}),W={startDate:m.O$.from(0),expirationDate:m.O$.from(0),approvedCallTargets:[],nativeTokenLimitPerTransaction:"0"},T=function(){return w.z.object({startDate:c.S,expirationDate:c.E,nativeTokenLimitPerTransaction:u.cw.default(0),approvedCallTargets:w.z.union([w.z.array(u.ba),w.z.literal("*")])})}(),P=function(){return w.z.array(w.z.object({signer:u.ba,makeAdmin:w.z.boolean(),permissions:T}))}(),S=[{name:"signer",type:"address"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],E=[{name:"signer",type:"address"},{name:"isAdmin",type:"uint8"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],C=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,f.Z)(this,"featureName",u.dj.name),(0,f.Z)(this,"grantAdminPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return a=e.sent,e.next=5,r.sendSignerPermissionRequest(a,W,A.AddAdmin);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"revokeAdminPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return a=e.sent,e.next=5,r.sendSignerPermissionRequest(a,W,A.RemoveAdmin);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"grantPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){var s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return s=e.sent,e.next=5,T.parseAsync(a);case 5:return i=e.sent,e.next=8,r.sendSignerPermissionRequest(s,i,A.None);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"updatePermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){var s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return s=e.sent,e.next=5,T.parseAsync(a);case 5:return i=e.sent,e.next=8,r.isAdmin(s);case 8:if(!e.sent){e.next=10;break}throw new Error("Signer is already an admin. Cannot update permissions of an existing admin.");case 10:return e.next=12,r.isSigner(s);case 12:if(e.sent){e.next=14;break}throw new Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");case 14:return e.next=16,r.sendSignerPermissionRequest(s,i,A.None);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"revokeAccess",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return a=e.sent,e.next=5,r.sendSignerPermissionRequest(a,{startDate:m.O$.from(0),expirationDate:m.O$.from(0),approvedCallTargets:[],nativeTokenLimitPerTransaction:"0"},A.None);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"approveTargetForSigner",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){var s,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return s=e.sent,e.next=5,(0,u.aM)(a);case 5:return i=e.sent,e.next=8,r.isAdmin(s);case 8:if(!e.sent){e.next=10;break}throw new Error("Signer is already an admin. Cannot approve targets for an admin.");case 10:return e.next=12,r.isSigner(s);case 12:if(e.sent){e.next=14;break}throw new Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");case 14:return e.next=16,r.contractWrapper.read("getPermissionsForSigner",[s]);case 16:if(!(c=e.sent).approvedTargets.includes(a)){e.next=19;break}throw new Error("Target is already approved");case 19:return o=[].concat((0,d.Z)(c.approvedTargets),[i]),e.next=22,r.sendSignerPermissionRequest(s,{startDate:m.O$.from(c.startTimestamp),expirationDate:m.O$.from(c.endTimestamp),approvedCallTargets:o,nativeTokenLimitPerTransaction:c.nativeTokenLimitPerTransaction.toString()},A.None);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"disapproveTargetForSigner",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){var s,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return s=e.sent,e.next=5,(0,u.aM)(a);case 5:return i=e.sent,e.next=8,r.isAdmin(s);case 8:if(!e.sent){e.next=10;break}throw new Error("Signer is already an admin. Cannot approve targets for an admin.");case 10:return e.next=12,r.isSigner(s);case 12:if(e.sent){e.next=14;break}throw new Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");case 14:return e.next=16,r.contractWrapper.read("getPermissionsForSigner",[s]);case 16:if((c=e.sent).approvedTargets.includes(i)){e.next=19;break}throw new Error("Target is currently not approved");case 19:return o=c.approvedTargets.filter((function(e){return l.getAddress(e)!==l.getAddress(i)})),e.next=22,r.sendSignerPermissionRequest(s,{startDate:m.O$.from(c.startTimestamp),expirationDate:m.O$.from(c.endTimestamp),approvedCallTargets:o,nativeTokenLimitPerTransaction:c.nativeTokenLimitPerTransaction.toString()},A.None);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"resetAllPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var s,i,c,o,u,d,f,m,l,v,g,x,Z;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.parseAsync(t);case 2:if(s=e.sent,!r.hasDuplicateSigners(s)){e.next=5;break}throw new Error("Duplicate signers found in input.");case 5:return i=[],c=[],o=[],e.next=10,r.getAllAdmins();case 10:return u=e.sent,d=s.filter((function(e){return e.makeAdmin})).map((function(e){return e.signer})),u.forEach(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.includes(t)){e.next=5;break}return e.next=3,r.sendSignerPermissionRequest(t,W,A.RemoveAdmin);case 3:a=e.sent.encode(),i.push(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=15,r.getAllSigners();case 15:return f=e.sent,m=s.filter((function(e){return!e.makeAdmin})).map((function(e){return e.signer})),e.next=19,Promise.all(f.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.includes(t.signer)){e.next=5;break}return e.next=3,r.sendSignerPermissionRequest(t.signer,W,A.None);case 3:a=e.sent.encode(),o.push(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 19:l=(0,p.Z)(s),e.prev=20,l.s();case 22:if((v=l.n()).done){e.next=36;break}if(!(g=v.value).makeAdmin){e.next=30;break}return e.next=27,r.sendSignerPermissionRequest(g.signer,W,A.AddAdmin);case 27:e.sent.encode(),e.next=34;break;case 30:return e.next=32,r.sendSignerPermissionRequest(g.signer,g.permissions,A.None);case 32:x=e.sent.encode(),c.push(x);case 34:e.next=22;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(20),l.e(e.t0);case 41:return e.prev=41,l.f(),e.finish(41);case 44:return Z=[],i.forEach((function(e){Z.push(e)})),o.forEach((function(e){Z.push(e)})),c.forEach((function(e){Z.push(e)})),e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"multicall",args:[Z]}));case 49:case"end":return e.stop()}}),e,null,[[20,38,41,44]])})));return function(t){return e.apply(this,arguments)}}())),this.contractWrapper=t}return(0,i.Z)(e,[{key:"getAddress",value:function(){return this.contractWrapper.address}},{key:"hasDuplicateSigners",value:function(e){var t,r={},n=e.map((function(e){return e.signer})),a=(0,p.Z)(n);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(r[s])return!0;r[s]=!0}}catch(i){a.e(i)}finally{a.f()}return!1}},{key:"parseSignerPermissionsStruct",value:function(e){return{startDate:new Date(1e3*parseInt(e.startTimestamp.toString())),expirationDate:new Date(1e3*parseInt(e.endTimestamp.toString())),nativeTokenLimitPerTransaction:m.O$.from(e.nativeTokenLimitPerTransaction),approvedCallTargets:e.approvedTargets}}},{key:"sendSignerPermissionRequest",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){var s,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generatePayload(t,r,a);case 2:return s=e.sent,i=s.payload,c=s.signature,e.abrupt("return",h.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPermissionsForSigner",args:[i,c]}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"generatePayload",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){var s,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={signer:t,isAdmin:a.valueOf(),approvedTargets:"*"===r.approvedCallTargets?[u.cu]:r.approvedCallTargets,nativeTokenLimitPerTransaction:v.parseEther(r.nativeTokenLimitPerTransaction),permissionStartTimestamp:r.startDate,permissionEndTimestamp:r.expirationDate,reqValidityStartTimestamp:0,reqValidityEndTimestamp:m.O$.from(Math.floor(new Date(Date.now()+31536e7).getTime()/1e3)),uid:(0,k.L)(void 0)},e.next=3,this.contractWrapper.getChainID();case 3:return i=e.sent,c=this.contractWrapper.getSigner(),(0,y.Z)(c,"No signer available"),e.next=8,this.contractWrapper.signTypedData(c,{name:"Account",version:"1",chainId:i,verifyingContract:this.getAddress()},{SignerPermissionRequest:E},s);case 8:return o=e.sent,e.abrupt("return",{payload:s,signature:o});case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"generateLegacyPayload",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("*"!==r.approvedCallTargets){e.next=2;break}throw new Error("Wildcard call targets are not supported on legacy account permissions contract, please deploy an updated contract factory.");case 2:return a={signer:t,approvedTargets:r.approvedCallTargets,nativeTokenLimitPerTransaction:v.parseEther(r.nativeTokenLimitPerTransaction),permissionStartTimestamp:r.startDate,permissionEndTimestamp:r.expirationDate,reqValidityStartTimestamp:0,reqValidityEndTimestamp:m.O$.from(Math.floor(new Date(Date.now()+31536e7).getTime()/1e3)),uid:(0,k.L)(void 0)},e.next=5,this.contractWrapper.getChainID();case 5:return s=e.sent,i=this.contractWrapper.getSigner(),(0,y.Z)(i,"No signer available"),e.next=10,this.contractWrapper.signTypedData(i,{name:"Account",version:"1",chainId:s,verifyingContract:this.getAddress()},{SignerPermissionRequest:S},a);case 10:return c=e.sent,e.abrupt("return",{payload:a,signature:c});case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isAdmin",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return r=e.sent,e.next=5,this.contractWrapper.read("isAdmin",[r]);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSigner",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.aM)(t);case 2:return r=e.sent,e.next=5,this.contractWrapper.read("isActiveSigner",[r]);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllAdmins",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contractWrapper.read("getAllAdmins",[]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllSigners",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contractWrapper.read("getAllActiveSigners",[]);case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.signer,s=r.parseSignerPermissionsStruct(t),e.abrupt("return",{signer:a,permissions:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllAdminsAndSigners",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllAdmins();case 2:return t=e.sent,r=t.map((function(e){return{isAdmin:!0,signer:e,permissions:{startDate:new Date(0),expirationDate:new Date(0),nativeTokenLimitPerTransaction:m.O$.from(0),approvedCallTargets:[]}}})),e.next=6,this.getAllSigners();case 6:return a=e.sent,e.abrupt("return",[].concat((0,d.Z)(r),(0,d.Z)(a)));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),D=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,f.Z)(this,"featureName",u.dk.name),(0,f.Z)(this,"grantAdminPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).grantAdminPermissions.prepare(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"revokeAdminPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).revokeAdminPermissions.prepare(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"grantPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).grantPermissions.prepare(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"updatePermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).updatePermissions.prepare(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"revokeAccess",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).revokeAccess.prepare(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"approveTargetForSigner",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).approveTargetForSigner.prepare(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"disapproveTargetForSigner",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).disapproveTargetForSigner.prepare(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),(0,f.Z)(this,"resetAllPermissions",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(r.accountPermissions,u.dj).resetAllPermissions.prepare(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.contractWrapper=t,this.accountPermissions=this.detectAccountPermissions()}return(0,i.Z)(e,[{key:"detectAccountPermissions",value:function(){if((0,o.d)(this.contractWrapper,"AccountPermissions")||(0,o.d)(this.contractWrapper,"AccountPermissionsV1"))return new C(this.contractWrapper)}},{key:"getAddress",value:function(){return this.contractWrapper.address}},{key:"isAdmin",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(this.accountPermissions,u.dj).isAdmin(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSigner",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(this.accountPermissions,u.dj).isSigner(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllAdmins",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(this.accountPermissions,u.dj).getAllAdmins());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllSigners",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(this.accountPermissions,u.dj).getAllSigners());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllAdminsAndSigners",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.a)(this.accountPermissions,u.dj).getAllAdminsAndSigners());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),R=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,f.Z)(this,"featureName",u.dl.name),(0,f.Z)(this,"createAccount",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.isAccountDeployed(t,a);case 2:if(!e.sent){e.next=4;break}throw new Error("Account already deployed for admin: ".concat(t));case 4:return s=g.Y0(""),a&&(s=a),e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"createAccount",args:[t,s],parse:function(e){return{address:r.contractWrapper.parseLogs("AccountCreated",null===e||void 0===e?void 0:e.logs)[0].args.account,receipt:e}}}));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),this.contractWrapper=t,this.events=new o.a(this.contractWrapper)}return(0,i.Z)(e,[{key:"getAddress",value:function(){return this.contractWrapper.address}},{key:"predictAccountAddress",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.Y0(""),r&&(a=r),e.abrupt("return",this.contractWrapper.read("getAddress",[t,a]));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAssociatedAccounts",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.contractWrapper.read("getAccountsOfSigner",[t]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllAccounts",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contractWrapper.read("getAllAccounts",[]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isAccountDeployed",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.predictAccountAddress(t,r);case 2:return a=e.sent,e.abrupt("return",(0,u.av)(a,this.contractWrapper.getProvider()));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function M(e,t){var r,n=u.bk.parse(e||[]).filter((function(e){return"event"===e.type})),a=[],s=(0,p.Z)(n);try{for(s.s();!(r=s.n()).done;){var i=r.value,c=(0,u.a0)(i.name,t,"events");a.push({inputs:i.inputs||[],outputs:i.outputs||[],name:i.name||"unknown",comment:c})}}catch(o){s.e(o)}finally{s.f()}return a}var F=function(){function e(t,r){(0,s.Z)(this,e),this.contractWrapper=t,this.storage=r}return(0,i.Z)(e,[{key:"get",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._cachedMetadata){e.next=2;break}return e.abrupt("return",this._cachedMetadata);case 2:return e.next=4,(0,u.K)(this.contractWrapper.address,this.contractWrapper.getProvider(),this.storage,this.contractWrapper.options);case 4:return this._cachedMetadata=e.sent,e.abrupt("return",this._cachedMetadata);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"extractSources",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get();case 2:return t=e.sent,e.abrupt("return",(0,u.ao)(t,this.storage));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"extractFunctions",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get();case 3:r=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.abrupt("return",(0,u.a2)(u.bk.parse(this.contractWrapper.abi),null===(t=r)||void 0===t?void 0:t.metadata));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"extractEvents",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get();case 3:r=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.abrupt("return",M(u.bk.parse(this.contractWrapper.abi),null===(t=r)||void 0===t?void 0:t.metadata));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),N=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,f.Z)(this,"featureName",u.dm.name),(0,f.Z)(this,"add",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"addExtension",args:[t.extension],parse:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.contractWrapper.parseLogs("ExtensionAdded",a.logs).length<1)){e.next=3;break}throw new Error("No ExtensionAdded event found");case 3:if(!t.extensionAbi){e.next=7;break}e.t0=u.bk.parse(t.extensionAbi),e.next=10;break;case 7:return e.next=9,(0,u.K)(t.extension.metadata.implementation,r.contractWrapper.getProvider(),r.contractWrapper.storage);case 9:e.t0=e.sent.abi;case 10:return s=e.t0,i=r.filterAbiForAdd(s,t.extension),c=(0,u.aj)([u.bk.parse(r.contractWrapper.abi),i]),r.contractWrapper.updateAbi(c),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"addDeployed",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s,i,c,o,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.extensionAbi){e.next=6;break}return e.next=4,(0,u.K)(t.extensionAddress,r.contractWrapper.getProvider(),r.contractWrapper.storage,r.contractWrapper.options);case 4:s=e.sent,a=s.abi;case 6:if((0,y.Z)(a,"Require extension ABI"),i="",!t.extensionMetadata){e.next=19;break}if("string"!==typeof t.extensionMetadata){e.next=13;break}i=t.extensionMetadata,e.next=19;break;case 13:return e.next=15,u.bD.parseAsync(t.extensionMetadata);case 15:return c=e.sent,e.next=18,r.contractWrapper.storage.upload(c);case 18:i=e.sent;case 19:return o=(0,b.b)(u.bk.parse(a)),p={metadata:{name:t.extensionName,metadataURI:i,implementation:t.extensionAddress},functions:o},e.abrupt("return",r.add.prepare({extension:p,extensionAbi:a}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"addPublished",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.version||"latest",e.next=3,r.deployExtension(t.extensionName,t.publisherAddress||u.aI,a);case 3:return s=e.sent,i=s.deployedExtensionAddress,c=s.extensionMetadata,e.abrupt("return",r.addDeployed.prepare({extensionName:t.extensionName,extensionAddress:i,extensionMetadata:t.extensionMetadataOverride||c}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"replace",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"replaceExtension",args:[t.extension],parse:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.contractWrapper.parseLogs("ExtensionReplaced",a.logs).length<1)){e.next=3;break}throw new Error("No ExtensionReplaced event found");case 3:if(!t.extensionAbi){e.next=7;break}e.t0=u.bk.parse(t.extensionAbi),e.next=10;break;case 7:return e.next=9,(0,u.K)(t.extension.metadata.implementation,r.contractWrapper.getProvider(),r.contractWrapper.storage);case 9:e.t0=e.sent.abi;case 10:return s=e.t0,i=r.filterAbiForRemove(u.bk.parse(r.contractWrapper.abi),s),c=r.filterAbiForAdd(s,t.extension),o=(0,u.aj)([i,c]),r.contractWrapper.updateAbi(o),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"replaceDeployed",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s,i,c,o,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.extensionAbi){e.next=6;break}return e.next=4,(0,u.K)(t.extensionAddress,r.contractWrapper.getProvider(),r.contractWrapper.storage,r.contractWrapper.options);case 4:s=e.sent,a=s.abi;case 6:if((0,y.Z)(a,"Require extension ABI"),i="",!t.extensionMetadata){e.next=19;break}if("string"!==typeof t.extensionMetadata){e.next=13;break}i=t.extensionMetadata,e.next=19;break;case 13:return e.next=15,u.bD.parseAsync(t.extensionMetadata);case 15:return c=e.sent,e.next=18,r.contractWrapper.storage.upload(c);case 18:i=e.sent;case 19:return o=(0,b.b)(u.bk.parse(a)),p={metadata:{name:t.extensionName,metadataURI:i,implementation:t.extensionAddress},functions:o},e.abrupt("return",r.replace.prepare({extension:p,extensionAbi:a}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"replacePublished",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.version||"latest",e.next=3,r.deployExtension(t.extensionName,t.publisherAddress||u.aI,a);case 3:return s=e.sent,i=s.deployedExtensionAddress,c=s.extensionMetadata,e.abrupt("return",r.replaceDeployed.prepare({extensionName:t.extensionName,extensionAddress:i,extensionMetadata:t.extensionMetadataOverride||c}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),(0,f.Z)(this,"remove",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getExtensionAddress(t.extensionName);case 2:return s=e.sent,e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"removeExtension",args:[t.extensionName],parse:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.contractWrapper.parseLogs("ExtensionRemoved",t.logs).length<1)){e.next=3;break}throw new Error("No ExtensionRemoved event found");case 3:return e.next=5,(0,u.K)(s,r.contractWrapper.getProvider(),r.contractWrapper.storage);case 5:return a=e.sent.abi,i=r.filterAbiForRemove(u.bk.parse(r.contractWrapper.abi),a),r.contractWrapper.updateAbi(i),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.contractWrapper=t}return(0,i.Z)(e,[{key:"getAddress",value:function(){return this.contractWrapper.readContract.address}},{key:"getAll",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contractWrapper.readContract.getAllExtensions();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contractWrapper.readContract.getExtension(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getExtensionAddress",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,e.abrupt("return",r.metadata.implementation);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllFunctions",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,e.abrupt("return",r.functions);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getExtensionForFunction",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.functionSelector)||((0,y.Z)(t.functionSignature,"Atleast one of function selector and signature must be provided"),r=x.id(t.functionSignature).substring(0,10)),e.next=4,this.contractWrapper.readContract.getMetadataForFunction(r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getExtensionAddressForFunction",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getExtensionForFunction(t);case 2:return r=e.sent,e.abrupt("return",r.implementation);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterAbiForAdd",value:function(e,t){var r=new Z.vU(e),n=t.functions.map((function(e){return e.functionSelector}));return e.filter((function(e){var t=Object.values(new Z.vU([e]).functions);if(0===t.length)return!1;var a=r.getSighash(t[0]);return n.includes(a)}))}},{key:"filterAbiForRemove",value:function(e,t){var r=new Z.vU(e),n=new Z.vU(t),a=Object.values(n.functions).map((function(e){return n.getSighash(e)}));return e.filter((function(e){var t=Object.values(new Z.vU([e]).functions);if(0===t.length)return!1;var n=r.getSighash(t[0]);return!a.includes(n)}))}},{key:"deployExtension",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,i,c,o,d,f,h,m,l,v,g,x=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=x.length>2&&void 0!==x[2]?x[2]:"latest",e.next=3,(0,u.aJ)(r,t,s,this.contractWrapper.storage,this.contractWrapper.options.clientId,this.contractWrapper.options.secretKey);case 3:return i=e.sent,e.next=6,(0,b.g)(i.metadataUri,this.contractWrapper.storage,this.contractWrapper.getProvider(),"",this.contractWrapper.options.clientId,this.contractWrapper.options.secretKey);case 6:return c=e.sent,o=null===(a=c.find((function(e){return"implementation"===e.type})))||void 0===a?void 0:a.transaction.predictedAddress,d=c.filter((function(e){return e.transaction.data&&e.transaction.data.length>0})),f=d.filter((function(e){return"infra"!==e.type})).map((function(e){return e.transaction})),h=d.filter((function(e){return"infra"===e.type})).map((function(e){return e.transaction})),m=this.contractWrapper.getSigner(),(0,y.Z)(m,"Signer is required"),e.next=15,(0,b.a)(m,h,{});case 15:l=(0,p.Z)(f),e.prev=16,l.s();case 18:if((v=l.n()).done){e.next=30;break}return g=v.value,e.prev=20,e.next=23,(0,b.d)(m,g);case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(20),console.debug("Error deploying contract at ".concat(g.predictedAddress),null===e.t0||void 0===e.t0?void 0:e.t0.message);case 28:e.next=18;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(16),l.e(e.t1);case 35:return e.prev=35,l.f(),e.finish(35);case 38:return e.abrupt("return",{deployedExtensionAddress:o,extensionMetadata:i.metadataUri});case 39:case"end":return e.stop()}}),e,this,[[16,32,35,38],[20,25]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),L=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,f.Z)(this,"featureName",u.dn.name),(0,f.Z)(this,"drop",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a,s){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"airdropERC20",args:[t,a,s],parse:function(e){var t=r.contractWrapper.parseLogs("AirdropFailed",e.logs).map((function(e){return{recipient:e.args.recipient,amount:e.args.amount.toString()}}));return{successfulDropCount:s.length-t.length,failedDropCount:t.length,failedDrops:t}}}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())),this.contractWrapper=t}return(0,i.Z)(e,[{key:"getAddress",value:function(){return this.contractWrapper.address}}]),e}(),q=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,f.Z)(this,"featureName",u.dp.name),(0,f.Z)(this,"drop",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a,s){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"airdropERC721",args:[t,a,s],parse:function(e){var t=r.contractWrapper.parseLogs("AirdropFailed",e.logs).map((function(e){return{recipient:e.args.recipient,tokenId:e.args.tokenId.toNumber()}}));return{successfulDropCount:s.length-t.length,failedDropCount:t.length,failedDrops:t}}}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())),this.contractWrapper=t}return(0,i.Z)(e,[{key:"getAddress",value:function(){return this.contractWrapper.address}}]),e}(),I=function(){function e(t){var r=this;(0,s.Z)(this,e),(0,f.Z)(this,"featureName",u.dq.name),(0,f.Z)(this,"drop",(0,h.f)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a,s){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.T.fromContractWrapper({contractWrapper:r.contractWrapper,method:"airdropERC1155",args:[t,a,s],parse:function(e){var t=r.contractWrapper.parseLogs("AirdropFailed",e.logs).map((function(e){return{recipient:e.args.recipient,tokenId:e.args.tokenId.toNumber(),amount:e.args.amount.toString()}}));return{successfulDropCount:s.length-t.length,failedDropCount:t.length,failedDrops:t}}}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())),this.contractWrapper=t}return(0,i.Z)(e,[{key:"getAddress",value:function(){return this.contractWrapper.address}}]),e}(),O=r(87126),j=r(72106),$=r(27848),U=r(109),K=r(73584),V=r(40541),z=r(19128),_=r(94925),Y=r(29887),B=r(76449),G=(r(80518),r(66315),r(98528),r(78262),function(){function e(t,r,n,a){(0,s.Z)(this,e);var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5?arguments[5]:void 0,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new u.cs(t,r,n,i,a);this._chainId=c,this.storage=a,this.contractWrapper=p,this.events=new o.a(this.contractWrapper),this.encoder=new O.C(this.contractWrapper),this.interceptor=new j.C(this.contractWrapper),this.estimator=new o.G(this.contractWrapper),this.publishedMetadata=new F(this.contractWrapper,this.storage),this.metadata=new o.C(this.contractWrapper,u.bh,this.storage)}return(0,i.Z)(e,[{key:"abi",get:function(){return u.bk.parse(this.contractWrapper.abi||[])}},{key:"royalties",get:function(){return(0,c.a)(this.detectRoyalties(),u.d2)}},{key:"roles",get:function(){return(0,c.a)(this.detectRoles(),u.d1)}},{key:"sales",get:function(){return(0,c.a)(this.detectPrimarySales(),u.d4)}},{key:"platformFees",get:function(){return(0,c.a)(this.detectPlatformFees(),u.dr)}},{key:"owner",get:function(){return(0,c.a)(this.detectOwnable(),u.d3)}},{key:"erc20",get:function(){return(0,c.a)(this.detectErc20(),u.cI)}},{key:"erc721",get:function(){return(0,c.a)(this.detectErc721(),u.c$)}},{key:"erc1155",get:function(){return(0,c.a)(this.detectErc1155(),u.dg)}},{key:"app",get:function(){return(0,c.a)(this.detectApp(),u.cK)}},{key:"directListings",get:function(){return(0,c.a)(this.detectDirectListings(),u.dx)}},{key:"englishAuctions",get:function(){return(0,c.a)(this.detectEnglishAuctions(),u.dy)}},{key:"offers",get:function(){return(0,c.a)(this.detectOffers(),u.dz)}},{key:"airdrop20",get:function(){return(0,c.a)(this.detectAirdrop20(),u.dn)}},{key:"airdrop721",get:function(){return(0,c.a)(this.detectAirdrop721(),u.dp)}},{key:"airdrop1155",get:function(){return(0,c.a)(this.detectAirdrop1155(),u.dq)}},{key:"accountFactory",get:function(){return(0,c.a)(this.detectAccountFactory(),u.dl)}},{key:"account",get:function(){return(0,c.a)(this.detectAccount(),u.dk)}},{key:"extensions",get:function(){return(0,c.a)(this.detectBaseRouter(),u.dm)}},{key:"chainId",get:function(){return this._chainId}},{key:"onNetworkUpdated",value:function(e){this.contractWrapper.updateSignerOrProvider(e)}},{key:"getAddress",value:function(){return this.contractWrapper.address}},{key:"prepare",value:function(e,t,r){return h.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:e,args:t,overrides:r})}},{key:"call",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.contractWrapper.call(t,r,a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"detectRoyalties",value:function(){if((0,o.d)(this.contractWrapper,"Royalty")){var e=new o.C(this.contractWrapper,u.bh,this.storage);return new $.C(this.contractWrapper,e)}}},{key:"detectRoles",value:function(){if((0,o.d)(this.contractWrapper,"Permissions"))return new K.C(this.contractWrapper,u.G)}},{key:"detectPrimarySales",value:function(){if((0,o.d)(this.contractWrapper,"PrimarySale"))return new V.C(this.contractWrapper)}},{key:"detectPlatformFees",value:function(){if((0,o.d)(this.contractWrapper,"PlatformFee"))return new U.C(this.contractWrapper)}},{key:"detectErc20",value:function(){if((0,o.d)(this.contractWrapper,"ERC20"))return new _.E(this.contractWrapper,this.storage,this.chainId)}},{key:"detectErc721",value:function(){if((0,o.d)(this.contractWrapper,"ERC721"))return new Y.E(this.contractWrapper,this.storage,this.chainId)}},{key:"detectErc1155",value:function(){if((0,o.d)(this.contractWrapper,"ERC1155"))return new z.E(this.contractWrapper,this.storage,this.chainId)}},{key:"detectOwnable",value:function(){if((0,o.d)(this.contractWrapper,"Ownable"))return new $.a(this.contractWrapper)}},{key:"detectApp",value:function(){var e=new o.C(this.contractWrapper,u.bh,this.storage);return(0,o.d)(this.contractWrapper,"AppURI")||(0,o.d)(this.contractWrapper,"ContractMetadata")?new o.b(this.contractWrapper,e,this.storage):void 0}},{key:"detectDirectListings",value:function(){if((0,o.d)(this.contractWrapper,"DirectListings"))return new B.M(this.contractWrapper,this.storage)}},{key:"detectEnglishAuctions",value:function(){if((0,o.d)(this.contractWrapper,"EnglishAuctions"))return new B.a(this.contractWrapper,this.storage)}},{key:"detectOffers",value:function(){if((0,o.d)(this.contractWrapper,"Offers"))return new B.b(this.contractWrapper,this.storage)}},{key:"detectBaseRouter",value:function(){if((0,o.d)(this.contractWrapper,u.dm.name))return new N(this.contractWrapper)}},{key:"detectAirdrop20",value:function(){if((0,o.d)(this.contractWrapper,"AirdropERC20"))return new L(this.contractWrapper)}},{key:"detectAirdrop721",value:function(){if((0,o.d)(this.contractWrapper,"AirdropERC721"))return new q(this.contractWrapper)}},{key:"detectAirdrop1155",value:function(){if((0,o.d)(this.contractWrapper,"AirdropERC1155"))return new I(this.contractWrapper)}},{key:"detectAccountFactory",value:function(){if((0,o.d)(this.contractWrapper,u.dl.name))return new R(this.contractWrapper)}},{key:"detectAccount",value:function(){if((0,o.d)(this.contractWrapper,u.dk.name))return new D(this.contractWrapper)}}]),e}())}}]);
//# sourceMappingURL=417.4c528411.chunk.js.map
"use strict";(self.webpackChunkgeoblocs=self.webpackChunkgeoblocs||[]).push([[2961],{66061:function(n,t,e){function r(n){return"string"===typeof n?Number.parseInt(n,"0x"===n.trim().substring(0,2)?16:10):"bigint"===typeof n?Number(n):n}e.d(t,{n:function(){return r}})},22961:function(n,t,e){e.r(t),e.d(t,{LocalWalletConnector:function(){return y}});var r=e(1413),i=e(74165),s=e(15861),a=e(15671),u=e(43144),c=e(97326),o=e(60136),h=e(29388),p=e(17591),f=e(66061),d=e(36624),v=e(12644),l=e(18392),Z=e(68408),g=e(73580),w=(e(30656),function(n){(0,o.Z)(e,n);var t=(0,h.Z)(e);function e(n){var r;return(0,a.Z)(this,e),(r=t.call(this)).signer=n,(0,g.defineReadOnly)((0,c.Z)(r),"provider",n.provider),r}return(0,u.Z)(e,[{key:"getAddress",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signer.getAddress();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"signMessage",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(t){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signer.signMessage(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(t){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signer.signTransaction(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"connect",value:function(n){return new e(this.signer.connect(n))}},{key:"_signTypedData",value:function(n,t,e){return this.signer._signTypedData(n,t,e)}},{key:"sendTransaction",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(t){var e,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.provider){n.next=2;break}throw new Error("Provider not found");case 2:return n.next=4,(0,v.g)(this.provider);case 4:return e=n.sent,s=(0,r.Z)((0,r.Z)({},e),t),n.next=8,this.signer.sendTransaction(s);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()}]),e}(Z.Signer)),y=function(n){(0,o.Z)(e,n);var t=(0,h.Z)(e);function e(n){var r;return(0,a.Z)(this,e),r=t.call(this),(0,p._)((0,c.Z)(r),"id","local_wallet"),(0,p._)((0,c.Z)(r),"name","Local Wallet"),(0,p._)((0,c.Z)(r),"shimDisconnectKey","localWallet.shimDisconnect"),(0,p._)((0,c.Z)(r),"onChainChanged",(function(n){var t=(0,f.n)(n),e=!r.options.chains.find((function(n){return n.chainId===t}));r.emit("change",{chain:{id:t,unsupported:e}})})),r.options=n,r}return(0,u.Z)(e,[{key:"connect",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(t){var e,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.chainId&&this.switchChain(t.chainId),n.next=3,this.getSigner();case 3:return e=n.sent,n.next=6,e.getAddress();case 6:return r=n.sent,n.abrupt("return",r);case 8:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"disconnect",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._provider=void 0,this._signer=void 0;case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"getAddress",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getSigner();case 2:if(t=n.sent){n.next=5;break}throw new Error("No signer found");case 5:return n.next=7,t.getAddress();case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"isConnected",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getAddress();case 3:return t=n.sent,n.abrupt("return",!!t);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})));return function(){return n.apply(this,arguments)}}()},{key:"getProvider",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._provider||(this._provider=(0,l.a$)(this.options.chain,{clientId:this.options.clientId,secretKey:this.options.secretKey})),n.abrupt("return",this._provider);case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"getSigner",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._signer){n.next=5;break}return n.next=3,this.getProvider();case 3:t=n.sent,this._signer=k(this.options.ethersWallet,t);case 5:return n.abrupt("return",this._signer);case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"switchChain",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(t){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.options.chains.find((function(n){return n.chainId===t}))){n.next=3;break}throw new Error("Chain not found for chainId ".concat(t,", please add it to the chains property when creating this wallet"));case 3:this._provider=(0,l.a$)(e,{clientId:this.options.clientId,secretKey:this.options.secretKey}),this._signer=k(this.options.ethersWallet,this._provider),this.onChainChanged(t);case 6:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"setupListeners",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"updateChains",value:function(n){this.options.chains=n}}]),e}(d.C);function k(n,t){var e=n;return t&&(e=n.connect(t)),new w(e)}}}]);
//# sourceMappingURL=2961.44a5437d.chunk.js.map
"use strict";(self.webpackChunkgeoblocs=self.webpackChunkgeoblocs||[]).push([[6561],{6561:function(n,e,t){t.r(e),t.d(e,{LocalWalletConnector:function(){return y}});var r=t(1413),i=t(74165),s=t(15861),a=t(15671),u=t(43144),c=t(97326),o=t(60136),h=t(29388),p=t(2600),f=t(91609),d=t(20684),v=t(36980),l=t(68365),Z=t(68408),g=t(73580),w=(t(65892),function(n){(0,o.Z)(t,n);var e=(0,h.Z)(t);function t(n){var r;return(0,a.Z)(this,t),(r=e.call(this)).signer=n,(0,g.defineReadOnly)((0,c.Z)(r),"provider",n.provider),r}return(0,u.Z)(t,[{key:"getAddress",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signer.getAddress();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"signMessage",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signer.signMessage(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signer.signTransaction(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"connect",value:function(n){return new t(this.signer.connect(n))}},{key:"_signTypedData",value:function(n,e,t){return this.signer._signTypedData(n,e,t)}},{key:"sendTransaction",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e){var t,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.provider){n.next=2;break}throw new Error("Provider not found");case 2:return n.next=4,(0,v.g)(this.provider);case 4:return t=n.sent,s=(0,r.Z)((0,r.Z)({},t),e),n.next=8,this.signer.sendTransaction(s);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()}]),t}(Z.Signer)),y=function(n){(0,o.Z)(t,n);var e=(0,h.Z)(t);function t(n){var r;return(0,a.Z)(this,t),r=e.call(this),(0,p._)((0,c.Z)(r),"id","local_wallet"),(0,p._)((0,c.Z)(r),"name","Local Wallet"),(0,p._)((0,c.Z)(r),"shimDisconnectKey","localWallet.shimDisconnect"),(0,p._)((0,c.Z)(r),"onChainChanged",(function(n){var e=(0,f.n)(n),t=!r.options.chains.find((function(n){return n.chainId===e}));r.emit("change",{chain:{id:e,unsupported:t}})})),r.options=n,r}return(0,u.Z)(t,[{key:"connect",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e){var t,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.chainId&&this.switchChain(e.chainId),n.next=3,this.getSigner();case 3:return t=n.sent,n.next=6,t.getAddress();case 6:return r=n.sent,n.abrupt("return",r);case 8:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"disconnect",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._provider=void 0,this._signer=void 0;case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"getAddress",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getSigner();case 2:if(e=n.sent){n.next=5;break}throw new Error("No signer found");case 5:return n.next=7,e.getAddress();case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"isConnected",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getAddress();case 3:return e=n.sent,n.abrupt("return",!!e);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})));return function(){return n.apply(this,arguments)}}()},{key:"getProvider",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._provider||(this._provider=(0,l.a_)(this.options.chain,{clientId:this.options.clientId,secretKey:this.options.secretKey})),n.abrupt("return",this._provider);case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"getSigner",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._signer){n.next=5;break}return n.next=3,this.getProvider();case 3:e=n.sent,this._signer=k(this.options.ethersWallet,e);case 5:return n.abrupt("return",this._signer);case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"switchChain",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.options.chains.find((function(n){return n.chainId===e}))){n.next=3;break}throw new Error("Chain not found for chainId ".concat(e,", please add it to the chains property when creating this wallet"));case 3:this._provider=(0,l.a_)(t,{clientId:this.options.clientId,secretKey:this.options.secretKey}),this._signer=k(this.options.ethersWallet,this._provider),this.onChainChanged(e);case 6:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"setupListeners",value:function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"updateChains",value:function(n){this.options.chains=n}}]),t}(d.C);function k(n,e){var t=n;return e&&(t=n.connect(e)),new w(t)}}}]);
//# sourceMappingURL=6561.41bf8af4.chunk.js.map
"use strict";(self.webpackChunkgeoblocs=self.webpackChunkgeoblocs||[]).push([[9552],{18541:function(e,n,t){t.d(n,{W:function(){return o}});var r=t(15671),i=t(43144),a=t(60136),c=t(29388),s=t(29278),o=function(e){(0,a.Z)(t,e);var n=(0,c.Z)(t);function t(e){var i;(0,r.Z)(this,t);var a=e.chains,c=void 0===a?s.gL9:a,o=e.options;return(i=n.call(this)).chains=c,i.options=o,i}return(0,i.Z)(t,[{key:"getBlockExplorerUrls",value:function(e){var n,t,r=null!==(n=null===(t=e.explorers)||void 0===t?void 0:t.map((function(e){return e.url})))&&void 0!==n?n:[];return r.length>0?r:void 0}},{key:"isChainUnsupported",value:function(e){return!this.chains.some((function(n){return n.chainId===e}))}},{key:"updateChains",value:function(e){this.chains=e}}]),t}(t(38080).Z)},48164:function(e,n,t){t.d(n,{A:function(){return f},C:function(){return p},P:function(){return d},R:function(){return l},S:function(){return Z},U:function(){return g},a:function(){return v}});var r=t(97326),i=t(43144),a=t(15671),c=t(60136),s=t(29388),o=t(28664),u=t(9302),h=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(e,r){var i;(0,a.Z)(this,t);var c=r.cause,s=r.code,o=r.data;if(!Number.isInteger(s))throw new Error('"code" must be an integer.');if(!e||"string"!==typeof e)throw new Error('"message" must be a nonempty string.');return(i=n.call(this,"".concat(e,". Cause: ").concat(JSON.stringify(c)))).cause=c,i.code=s,i.data=o,i}return(0,i.Z)(t)}((0,o.Z)(Error)),d=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(e,r){(0,a.Z)(this,t);var i=r.cause,c=r.code,s=r.data;if(!(Number.isInteger(c)&&c>=1e3&&c<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return n.call(this,e,{cause:i,code:c,data:s})}return(0,i.Z)(t)}(h),f=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;return(0,a.Z)(this,t),e=n.apply(this,arguments),(0,u._)((0,r.Z)(e),"name","AddChainError"),(0,u._)((0,r.Z)(e),"message","Error adding chain"),e}return(0,i.Z)(t)}((0,o.Z)(Error)),p=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(e){var i;(0,a.Z)(this,t);var c=e.chainId,s=e.connectorId;return i=n.call(this,'Chain "'.concat(c,'" not configured for connector "').concat(s,'".')),(0,u._)((0,r.Z)(i),"name","ChainNotConfigured"),i}return(0,i.Z)(t)}((0,o.Z)(Error)),v=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;return(0,a.Z)(this,t),e=n.apply(this,arguments),(0,u._)((0,r.Z)(e),"name","ConnectorNotFoundError"),(0,u._)((0,r.Z)(e),"message","Connector not found"),e}return(0,i.Z)(t)}((0,o.Z)(Error)),l=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(e){var i;return(0,a.Z)(this,t),i=n.call(this,"Resource unavailable",{cause:e,code:-32002}),(0,u._)((0,r.Z)(i),"name","ResourceUnavailable"),i}return(0,i.Z)(t)}(h),Z=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(e){var i;return(0,a.Z)(this,t),i=n.call(this,"Error switching chain",{cause:e,code:4902}),(0,u._)((0,r.Z)(i),"name","SwitchChainError"),i}return(0,i.Z)(t)}(d),g=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(e){var i;return(0,a.Z)(this,t),i=n.call(this,"User rejected request",{cause:e,code:4001}),(0,u._)((0,r.Z)(i),"name","UserRejectedRequestError"),i}return(0,i.Z)(t)}(d)},18052:function(e,n,t){function r(e){return"string"===typeof e?Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10):"bigint"===typeof e?Number(e):e}t.d(n,{n:function(){return r}})},89552:function(e,n,t){t.r(n),t.d(n,{CoinbaseWalletConnector:function(){return C}});var r=t(29439),i=t(74165),a=t(15861),c=t(1413),s=t(15671),o=t(43144),u=t(97326),h=t(60136),d=t(29388),f=t(9302),p=t(18541),v=t(48164),l=t(97419),Z=t(60723),g=t(49716),m=t(39416),w=t(41176),b=t(18052),C=(t(38080),function(e){(0,h.Z)(p,e);var n=(0,d.Z)(p);function p(e){var t;(0,s.Z)(this,p);var r=e.chains,i=e.options;return t=n.call(this,{chains:r,options:(0,c.Z)({reloadOnDisconnect:!1},i)}),(0,f._)((0,u.Z)(t),"id",m.w.coinbase),(0,f._)((0,u.Z)(t),"name","Coinbase Wallet"),(0,f._)((0,u.Z)(t),"ready",!0),(0,f._)((0,u.Z)(t),"onAccountsChanged",(function(e){0===e.length?t.emit("disconnect"):t.emit("change",{account:l.getAddress(e[0])})})),(0,f._)((0,u.Z)(t),"onChainChanged",(function(e){var n=(0,b.n)(e),r=t.isChainUnsupported(n);t.emit("change",{chain:{id:n,unsupported:r}})})),(0,f._)((0,u.Z)(t),"onDisconnect",(function(){t.emit("disconnect")})),t}return(0,o.Z)(p,[{key:"connect",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t,r,a,c,s,o,u=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(u.length>0&&void 0!==u[0]?u[0]:{}).chainId,e.prev=1,e.next=4,this.getProvider();case 4:return t=e.sent,this.setupListeners(),this.emit("message",{type:"connecting"}),e.next=9,t.enable();case 9:return r=e.sent,a=l.getAddress(r[0]),e.next=13,this.getChainId();case 13:if(c=e.sent,s=this.isChainUnsupported(c),!n||c===n){e.next=27;break}return e.prev=16,e.next=19,this.switchChain(n);case 19:o=e.sent,c=o.chainId,s=this.isChainUnsupported(c),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.error("Connected but failed to switch to desired chain ".concat(n),e.t0);case 27:return e.abrupt("return",{account:a,chain:{id:c,unsupported:s},provider:new Z.Q(t)});case 30:if(e.prev=30,e.t1=e.catch(1),!/(user closed modal|accounts received is empty)/i.test(e.t1.message)){e.next=34;break}throw new v.U(e.t1);case 34:throw e.t1;case 35:case"end":return e.stop()}}),e,this,[[1,30],[16,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getProvider();case 4:(n=e.sent).removeListener("accountsChanged",this.onAccountsChanged),n.removeListener("chainChanged",this.onChainChanged),n.removeListener("disconnect",this.onDisconnect),n.disconnect(),n.close();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:return n=e.sent,e.next=5,n.request({method:"eth_accounts"});case 5:if(0!==(t=e.sent).length){e.next=8;break}throw new Error("No accounts found");case 8:return e.abrupt("return",l.getAddress(t[0]));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainId",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:return n=e.sent,t=(0,b.n)(n.chainId),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProvider",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,r,a,c,s,o,u=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=11;break}return e.next=3,Promise.all([t.e(1985),t.e(1968),t.e(724),t.e(5419),t.e(6942)]).then(t.bind(t,25419));case 3:"function"!==typeof(r=e.sent.default)&&"function"===typeof r.default&&(r=r.default),this._client=new r(this.options),a=null===(n=this._client.walletExtension)||void 0===n?void 0:n.getChainId(),c=this.chains.find((function(e){return u.options.chainId?e.chainId===u.options.chainId:e.chainId===a}))||this.chains[0],s=this.options.chainId||(null===c||void 0===c?void 0:c.chainId),o=this.options.jsonRpcUrl||(null===c||void 0===c?void 0:c.rpc[0]),this._provider=this._client.makeWeb3Provider(o,s);case 11:return e.abrupt("return",this._provider);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSigner",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t,a,c,s,o=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(o.length>0&&void 0!==o[0]?o[0]:{}).chainId,e.next=3,Promise.all([this.getProvider(),this.getAccount()]);case 3:return t=e.sent,a=(0,r.Z)(t,2),c=a[0],s=a[1],e.abrupt("return",new Z.Q(c,n).getSigner(s));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isAuthorized",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccount();case 3:return n=e.sent,e.abrupt("return",!!n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"switchChain",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var t,r,a,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:return t=e.sent,r=g.hexValue(n),e.prev=4,e.next=7,t.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]});case 7:return e.abrupt("return",null!==(a=this.chains.find((function(e){return e.chainId===n})))&&void 0!==a?a:{chainId:n,name:"Chain ".concat(r),slug:"".concat(r),nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpc:[""],testnet:!1,chain:"ethereum",shortName:"eth"});case 10:if(e.prev=10,e.t0=e.catch(4),c=this.chains.find((function(e){return e.chainId===n}))){e.next=15;break}throw new v.C({chainId:n,connectorId:this.id});case 15:if(4902!==e.t0.code){e.next=27;break}return e.prev=16,e.next=19,t.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:c.name,nativeCurrency:c.nativeCurrency,rpcUrls:(0,w.g)(c),blockExplorerUrls:this.getBlockExplorerUrls(c)}]});case 19:return e.abrupt("return",c);case 22:if(e.prev=22,e.t1=e.catch(16),!this._isUserRejectedRequestError(e.t1)){e.next=26;break}throw new v.U(e.t1);case 26:throw new v.A;case 27:if(!this._isUserRejectedRequestError(e.t0)){e.next=29;break}throw new v.U(e.t0);case 29:throw new v.S(e.t0);case 30:case"end":return e.stop()}}),e,this,[[4,10],[16,22]])})));return function(n){return e.apply(this,arguments)}}()},{key:"_isUserRejectedRequestError",value:function(e){return/(user rejected)/i.test(e.message)}},{key:"setupListeners",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:(n=e.sent).on("accountsChanged",this.onAccountsChanged),n.on("chainChanged",this.onChainChanged),n.on("disconnect",this.onDisconnect);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getQrUrl",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:if(this._client){e.next=4;break}throw new Error("Coinbase Wallet SDK not initialized");case 4:return e.abrupt("return",this._client.getQrUrl());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),p}(p.W))}}]);
//# sourceMappingURL=9552.47a14b2e.chunk.js.map
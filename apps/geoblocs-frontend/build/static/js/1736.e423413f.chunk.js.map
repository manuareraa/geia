{"version":3,"file":"static/js/1736.e423413f.chunk.js","mappings":"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","sources":["../node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-2f14002d.browser.esm.js","../node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-1fb9aedf.browser.esm.js","../node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/evm/connectors/magic/dist/thirdweb-dev-wallets-evm-connectors-magic.browser.esm.js"],"sourcesContent":["import { defaultChains } from '@thirdweb-dev/chains';\nimport EventEmitter from 'eventemitter3';\n\nclass WagmiConnector extends EventEmitter {\n  /** Unique connector id */\n\n  /** Connector name */\n\n  /** Chains connector supports */\n\n  /** Options to use with connector */\n\n  /** Whether connector is usable */\n\n  constructor(_ref) {\n    let {\n      chains = defaultChains,\n      options\n    } = _ref;\n    super();\n    this.chains = chains;\n    this.options = options;\n  }\n  getBlockExplorerUrls(chain) {\n    const explorers = chain.explorers?.map(x => x.url) ?? [];\n    return explorers.length > 0 ? explorers : undefined;\n  }\n  isChainUnsupported(chainId) {\n    return !this.chains.some(x => x.chainId === chainId);\n  }\n  updateChains(chains) {\n    this.chains = chains;\n  }\n}\n\nexport { WagmiConnector as W };\n","/**\n * @internal\n */\nfunction normalizeChainId(chainId) {\n  if (typeof chainId === \"string\") {\n    return Number.parseInt(chainId, chainId.trim().substring(0, 2) === \"0x\" ? 16 : 10);\n  }\n  if (typeof chainId === \"bigint\") {\n    return Number(chainId);\n  }\n  return chainId;\n}\n\nexport { normalizeChainId as n };\n","import { _ as _defineProperty } from '../../../../dist/defineProperty-350fc508.browser.esm.js';\nimport { n as normalizeChainId } from '../../../../dist/normalizeChainId-1fb9aedf.browser.esm.js';\nimport { ethers, utils } from 'ethers';\nimport { OAuthExtension } from '@magic-ext/oauth';\nimport { Magic } from 'magic-sdk';\nimport { W as WagmiConnector } from '../../../../dist/WagmiConnector-2f14002d.browser.esm.js';\nimport '@thirdweb-dev/chains';\nimport 'eventemitter3';\n\nconst IS_SERVER = \"object\" === \"undefined\";\nclass MagicBaseConnector extends WagmiConnector {\n  constructor(config) {\n    super(config);\n    _defineProperty(this, \"id\", \"magic-link\");\n    _defineProperty(this, \"name\", \"Magic Link\");\n    _defineProperty(this, \"ready\", !IS_SERVER);\n    this.magicOptions = config.options;\n  }\n  async getAccount() {\n    const provider = new ethers.providers.Web3Provider(await this.getProvider()) // TODO: fix type mismatch\n    ;\n    const signer = provider.getSigner();\n    const account = await signer.getAddress();\n    if (account.startsWith(\"0x\")) {\n      return account;\n    }\n    return `0x${account}`;\n  }\n  async getProvider() {\n    if (this.provider) {\n      return this.provider;\n    }\n    const magic = this.getMagicSDK();\n    this.provider = magic.rpcProvider;\n    return this.provider;\n  }\n  async getSigner() {\n    const provider = new ethers.providers.Web3Provider(await this.getProvider()) // TODO: fix type mismatch\n    ;\n    const signer = await provider.getSigner();\n    return signer;\n  }\n  async isAuthorized() {\n    const magic = this.getMagicSDK();\n    try {\n      return await magic.user.isLoggedIn();\n    } catch (e) {\n      return false;\n    }\n  }\n  onAccountsChanged(accounts) {\n    if (accounts.length === 0) {\n      this.emit(\"disconnect\");\n    } else {\n      if (accounts[0]) {\n        this.emit(\"change\", {\n          account: utils.getAddress(accounts[0])\n        });\n      }\n    }\n  }\n  onChainChanged(chainId) {\n    const id = normalizeChainId(chainId);\n    const unsupported = this.isChainUnsupported(id);\n    this.emit(\"change\", {\n      chain: {\n        id,\n        unsupported\n      }\n    });\n  }\n  onDisconnect() {\n    this.emit(\"disconnect\");\n  }\n  async disconnect() {\n    const magic = this.getMagicSDK();\n    await magic.user.logout();\n  }\n}\nclass MagicAuthConnector extends MagicBaseConnector {\n  constructor(config) {\n    super(config);\n    this.magicSdkConfiguration = config.options.magicSdkConfiguration;\n    this._type = config.options.type;\n    this.oauthProviders = config.options.oauthOptions?.providers || [];\n    this.oauthRedirectURI = config.options.oauthOptions?.redirectURI;\n  }\n  async connect(options) {\n    if (!this.magicOptions.apiKey) {\n      throw new Error(\"Magic API Key is not provided.\");\n    }\n    try {\n      if (options.chainId) {\n        this.initializeMagicSDK({\n          chainId: options.chainId\n        });\n      }\n      const provider = await this.getProvider();\n      this.setupListeners();\n      this.emit(\"message\", {\n        type: \"connecting\"\n      });\n\n      // Check if there is a user logged in\n      const isAuthenticated = await this.isAuthorized();\n\n      // Check if we have a chainId, in case of error just assign 0 for legacy\n      let chainId;\n      try {\n        chainId = await this.getChainId();\n      } catch (e) {\n        chainId = 0;\n      }\n      this._connectedChainId = chainId;\n\n      // if there is a user logged in, return the user\n      if (isAuthenticated) {\n        return {\n          provider,\n          chain: {\n            id: chainId,\n            unsupported: false\n          },\n          account: await this.getAccount()\n        };\n      }\n      const magic = this.getMagicSDK();\n      if (this._type === \"connect\") {\n        if (\"email\" in options || \"phoneNumber\" in options) {\n          console.warn(\"Passing email or phoneNumber is not required for Magic Connect\");\n        }\n        await magic.wallet.connectWithUI();\n      } else {\n        // LOGIN WITH MAGIC LINK WITH OAUTH PROVIDER\n        if (\"oauthProvider\" in options) {\n          await magic.oauth.loginWithRedirect({\n            provider: options.oauthProvider,\n            redirectURI: this.oauthRedirectURI || window.location.href\n          });\n          await new Promise(res => {\n            // never resolve - to keep the app in \"connecting...\" state until the redirect happens\n            setTimeout(res, 10000); // timeout if takes if redirect doesn't happen for 10 seconds (will likely never happen)\n          });\n        }\n\n        // LOGIN WITH MAGIC LINK WITH EMAIL\n        else if (\"email\" in options) {\n          await magic.auth.loginWithMagicLink({\n            email: options.email,\n            showUI: true\n          });\n        }\n\n        // LOGIN WITH MAGIC LINK WITH PHONE NUMBER\n        else if (\"phoneNumber\" in options) {\n          await magic.auth.loginWithSMS({\n            phoneNumber: options.phoneNumber\n          });\n        }\n\n        // error\n        else {\n          throw new Error(\"Invalid options: Either provide and email, phoneNumber or oauthProvider when using Magic Auth\");\n        }\n      }\n      const signer = await this.getSigner();\n      let account = await signer.getAddress();\n      if (!account.startsWith(\"0x\")) {\n        account = `0x${account}`;\n      }\n      return {\n        account,\n        chain: {\n          id: chainId,\n          unsupported: false\n        },\n        provider\n      };\n\n      // throw new UserRejectedRequestError(\"User rejected request\");\n    } catch (error) {\n      console.error(error);\n      throw new Error(\"Something went wrong\");\n    }\n  }\n  async getChainId() {\n    const networkOptions = this.magicSdkConfiguration?.network;\n    if (typeof networkOptions === \"object\") {\n      const chainID = networkOptions.chainId;\n      if (chainID) {\n        return normalizeChainId(chainID);\n      }\n    }\n    throw new Error(\"Chain ID is not defined\");\n  }\n  initializeMagicSDK() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const options = {\n      ...this.magicSdkConfiguration,\n      extensions: [new OAuthExtension()]\n    };\n    if (chainId) {\n      const chain = this.chains.find(c => c.chainId === chainId);\n      if (chain) {\n        options.network = {\n          rpcUrl: chain.rpc[0] || \"\",\n          // TODO handle empty RPC array\n          chainId: chain.chainId\n        };\n      }\n    }\n    this.magicSDK = new Magic(this.magicOptions.apiKey, options);\n    this.provider = this.magicSDK.rpcProvider;\n    return this.magicSDK;\n  }\n  getMagicSDK() {\n    if (!this.magicSDK) {\n      return this.initializeMagicSDK();\n    }\n    return this.magicSDK;\n  }\n  async setupListeners() {\n    const provider = await this.getProvider();\n    provider.on(\"accountsChanged\", this.onAccountsChanged);\n    provider.on(\"chainChanged\", this.onChainChanged);\n    provider.on(\"disconnect\", this.onDisconnect);\n  }\n  async switchChain(chainId) {\n    const chain = this.chains.find(c => c.chainId === chainId);\n    if (!chain) {\n      throw new Error(\"Chain not found\");\n    }\n    if (this._connectedChainId !== chainId) {\n      this.initializeMagicSDK({\n        chainId\n      });\n    }\n    return chain;\n  }\n}\n\nexport { MagicAuthConnector, MagicBaseConnector };\n"],"names":["WagmiConnector","_EventEmitter","_inherits","_super","_createSuper","_ref","_this","_classCallCheck","_ref$chains","chains","defaultChains","options","call","_createClass","key","value","chain","_chain$explorers$map","_chain$explorers","explorers","map","x","url","length","undefined","chainId","this","some","EventEmitter","normalizeChainId","Number","parseInt","trim","substring","MagicBaseConnector","_WagmiConnector","config","_defineProperty","_assertThisInitialized","magicOptions","_getAccount","_asyncToGenerator","_regeneratorRuntime","mark","_callee","provider","signer","account","wrap","_context","prev","next","t0","ethers","getProvider","t1","sent","getSigner","getAddress","startsWith","abrupt","concat","stop","apply","arguments","_getProvider","_callee2","magic","_context2","getMagicSDK","rpcProvider","_getSigner","_callee3","_context3","_isAuthorized","_callee4","_context4","user","isLoggedIn","accounts","emit","utils","id","unsupported","isChainUnsupported","_disconnect","_callee5","_context5","logout","MagicAuthConnector","_MagicBaseConnector","_super2","_config$options$oauth","_config$options$oauth2","_this2","magicSdkConfiguration","_type","type","oauthProviders","oauthOptions","providers","oauthRedirectURI","redirectURI","_connect","_callee6","isAuthenticated","_context6","apiKey","Error","initializeMagicSDK","setupListeners","isAuthorized","getChainId","_connectedChainId","t2","getAccount","t3","console","warn","wallet","connectWithUI","oauth","loginWithRedirect","oauthProvider","window","location","href","Promise","res","setTimeout","auth","loginWithMagicLink","email","showUI","loginWithSMS","phoneNumber","t4","error","_x","_getChainId","_callee7","_this$magicSdkConfigu","networkOptions","chainID","_context7","network","_objectSpread","extensions","OAuthExtension","find","c","rpcUrl","rpc","magicSDK","Magic","_setupListeners","_callee8","_context8","on","onAccountsChanged","onChainChanged","onDisconnect","_switchChain","_callee9","_context9","_x2"],"sourceRoot":""}